# GUI_Roo - 现代化AI图片批量命名工具

## 项目概述

GUI_Roo是一个现代化的AI图片批量重命名工具，专为Markdown文档中的图片处理而设计。它提供了简洁美观的界面和高效的处理流程，让用户能够轻松地批量处理图片并生成有意义的文件名。

## 核心特性

### 🎨 现代界面设计
- 简洁直观的用户界面
- 响应式布局设计
- 现代化色彩系统和字体
- 流畅的交互动画

### 🚀 高效批量处理
- 支持批量处理多个Markdown文件
- 智能进度跟踪和状态显示
- 多线程处理，提升处理效率
- 实时状态更新和错误处理

### 🤖 AI智能命名
- 集成大语言模型，支持视觉理解
- 多种命名策略（顺序、上下文、混合等）
- 自定义命名模板系统
- 智能冲突检测和去重

### 🛡️ 安全可靠
- 处理前自动备份
- 错误恢复机制
- 详细的日志记录
- 数据完整性保护

### ⚡ 用户友好
- 3分钟快速上手
- 丰富的快捷键支持
- 实时帮助和提示
- 多语言支持

## 快速开始

### 系统要求
- Python 3.7 或更高版本
- tkinter（Python GUI库）
- 操作系统：Windows、macOS、Linux

### 安装步骤

1. **下载项目文件**
   ```bash
   # 确保所有文件在同一目录下
   ls -la
   # 应该看到：start_gui_roo.py, gui_roo_core_fixed.py 等文件
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **启动应用**
   ```bash
   python start_gui_roo.py
   ```

或者直接使用修复后的核心模块：
```bash
python gui_roo_core_fixed.py
```

## 使用指南

### 1. 基本流程
1. 点击"添加文件"选择要处理的Markdown文档
2. 配置API参数（Base URL、API Key、模型）
3. 选择命名策略和模板
4. 点击"开始处理"启动批量处理
5. 审核AI生成的命名结果
6. 确认应用更改

### 2. 快捷键
- `Ctrl+N` - 添加文件
- `Ctrl+R` - 开始处理
- `Esc` - 停止处理
- `Ctrl+,` - 打开设置
- `F1` - 显示帮助
- `Ctrl+Q` - 退出应用

### 3. 命名策略
- **seq**: 顺序编号
- **above**: 基于上文内容
- **below**: 基于下文内容  
- **intent**: AI图意理解
- **hybrid**: 混合策略

### 4. 模板变量
- `{title}` - 文档标题
- `{intent}` - AI生成的图意
- `{index}` - 全局序号
- `{block}` - 块内序号
- `{idx}` - 图片序号
- `{dup}` - 去重序号

## 配置说明

### API配置
```python
base_url: "https://api.siliconflow.cn"  # API基础地址
api_key: "your-api-key-here"            # API密钥
model: "Qwen/Qwen2.5-VL-3B-Instruct"    # 模型名称
```

### 处理选项
- **视觉理解**: 启用图片内容分析
- **处理前备份**: 自动创建备份文件
- **详细日志**: 显示详细的处理日志
- **超时时间**: API调用超时设置
- **重试次数**: 失败重试次数
- **速率限制**: API调用频率限制

## 文件结构

```
GUI_Roo/
├── gui_roo_core_fixed.py      # 主应用核心模块
├── gui_roo_styles.py          # 样式系统
├── gui_roo_config.py          # 配置管理
├── gui_roo_components.py      # UI组件库
├── gui_roo_utils.py           # 工具函数
├── gui_roo_pages.py           # 页面组件
├── start_gui_roo.py           # 启动器
├── requirements.txt           # 依赖列表
└── README.md                  # 项目文档
```

## 技术架构

### 核心组件

#### 1. 主应用 (GUIRoo)
- 应用生命周期管理
- 事件处理和状态管理
- 线程协调和资源管理

#### 2. 样式系统 (GUIRooStyles)
- 统一的视觉设计规范
- 主题管理和色彩系统
- 组件样式标准化

#### 3. 配置管理 (GUIRooConfig)
- 配置文件的保存和加载
- 配置验证和默认设置
- 配置导入导出功能

#### 4. UI组件库 (GUIRooComponents)
- 自定义现代化组件
- 响应式布局支持
- 交互状态管理

#### 5. 工具函数 (GUIRooUtils)
- 文件操作和字符串处理
- 时间处理和系统工具
- 线程管理和性能监控

#### 6. 页面组件 (GUIRooPages)
- 欢迎页面和处理页面
- 设置对话框和帮助系统
- 动态内容管理

### 设计模式
- **MVC架构**: 分离数据、视图和控制逻辑
- **工厂模式**: UI组件的创建和管理
- **观察者模式**: 状态变化的通知机制
- **单例模式**: 配置管理的全局访问

## 开发指南

### 添加新功能
1. 在相应模块中添加功能实现
2. 更新界面组件支持新功能
3. 添加配置选项
4. 更新文档和帮助信息

### 自定义样式
1. 修改 `GUIRooTheme` 类中的颜色定义
2. 调整字体和尺寸设置
3. 更新组件样式配置

### 扩展配置
1. 在 `ProcessingConfig` 中添加新配置项
2. 更新配置验证逻辑
3. 添加配置界面元素

## 故障排除

### 常见问题

1. **启动失败**
   - 检查Python版本（需要3.7+）
   - 确认tkinter已安装
   - 检查文件完整性

2. **依赖问题**
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   ```

3. **API连接失败**
   - 检查网络连接
   - 验证API Key有效性
   - 确认Base URL格式正确

4. **处理错误**
   - 查看详细日志
   - 检查文件格式和权限
   - 确认模型配置正确

### 调试模式
应用会在控制台输出详细的调试信息，包括：
- 启动过程日志
- 错误堆栈跟踪
- 处理状态信息
- API调用详情

## 贡献指南

欢迎贡献代码和建议！请遵循以下步骤：

1. Fork项目
2. 创建功能分支
3. 提交代码变更
4. 创建Pull Request

### 代码规范
- 使用Black进行代码格式化
- 遵循PEP 8编码规范
- 添加适当的注释和文档
- 编写单元测试

## 许可证

本项目采用MIT许可证 - 详见LICENSE文件

## 联系方式

- 项目主页：[GitHub仓库链接]
- 问题报告：[Issues页面]
- 功能建议：[Discussions页面]

## 更新日志

### v1.0.0 (2025-11-02)
- 初始版本发布
- 基础功能实现
- 现代界面设计
- 批量处理支持
- AI命名功能

## 致谢

感谢所有为GUI_Roo开发做出贡献的开发者和用户！

---

**GUI_Roo团队** © 2025 | 现代化AI图片批量命名工具